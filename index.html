<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíå Untuk Caca</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        @keyframes gentleBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes sadShake {
            0%, 100% { transform: translateX(0) rotate(0deg); }
            25% { transform: translateX(-5px) rotate(-2deg); }
            75% { transform: translateX(5px) rotate(2deg); }
        }
        .animate-gentle-bounce { animation: gentleBounce 3s ease-in-out infinite; }
        .animate-fade-in { animation: fadeIn 0.4s ease-out; }
        .animate-sad-shake { animation: sadShake 0.5s ease-in-out; }
        .font-inter { font-family: 'Inter', sans-serif; }
        
        ::-webkit-scrollbar {
            width: 4px;
        }
        ::-webkit-scrollbar-track {
            background: #f8fafc;
        }
        ::-webkit-scrollbar-thumb {
            background: #f472b6;
            border-radius: 2px;
        }
    </style>
</head>
<body class="font-inter min-h-screen bg-gradient-to-br from-rose-50 to-pink-50 p-4">
    <div class="max-w-2xl mx-auto">
        <!-- Header Minimal -->
        <div class="text-center mb-8">
            <div class="inline-block mb-4">
                <div class="text-4xl mb-2 animate-gentle-bounce">üíå</div>
                <div class="h-1 w-16 bg-pink-300 mx-auto rounded-full"></div>
            </div>
            <h1 class="text-2xl text-gray-800 font-medium">Untuk Caca</h1>
            <p class="text-sm text-gray-500 mt-2">dari Nathan yang selalu sayang</p>
        </div>

        <!-- Main Card -->
        <div id="app" class="bg-white/90 backdrop-blur-sm rounded-2xl shadow-sm border border-pink-100 p-6">
            <!-- Progress Minimal -->
            <div class="flex justify-center gap-1 mb-8">
                <div class="h-1 w-6 bg-pink-400 rounded-full step-indicator active"></div>
                <div class="h-1 w-6 bg-gray-200 rounded-full step-indicator"></div>
                <div class="h-1 w-6 bg-gray-200 rounded-full step-indicator"></div>
                <div class="h-1 w-6 bg-gray-200 rounded-full step-indicator"></div>
                <div class="h-1 w-6 bg-gray-200 rounded-full step-indicator"></div>
                <div class="h-1 w-6 bg-gray-200 rounded-full step-indicator"></div>
                <div class="h-1 w-6 bg-gray-200 rounded-full step-indicator"></div>
                <div class="h-1 w-6 bg-gray-200 rounded-full step-indicator"></div>
            </div>

            <!-- Content -->
            <div id="content" class="animate-fade-in">
                <!-- Content akan diisi oleh JavaScript -->
                <div class="text-center space-y-6">
                    <div class="text-5xl mb-2">üå∏</div>
                    <h2 class="text-xl text-gray-800 font-medium">Hai Caca!</h2>
                    <p class="text-gray-600 leading-relaxed max-w-md mx-auto">
                        Nathan ada sesuatu yang spesial untuk kamu hari ini...
                    </p>
                    <button onclick="nextStep()" 
                            class="inline-flex items-center gap-2 bg-pink-500 hover:bg-pink-600 text-white px-6 py-3 rounded-lg text-sm font-medium transition-all duration-200 hover:shadow-md active:scale-95">
                        <span>Buka Surat</span>
                        <span>‚Üí</span>
                    </button>
                </div>
            </div>

            <!-- Page Indicator -->
            <div class="text-center mt-8">
                <span class="text-xs text-gray-400">
                    <span id="current-page">1</span>/<span id="total-pages">8</span>
                </span>
            </div>
        </div>

        <!-- Footer Minimal -->
        <div class="text-center mt-6">
            <p class="text-xs text-gray-400">üíï</p>
        </div>
    </div>

    <script>
        // State management dengan counter kesalahan
        const state = {
            currentStep: 0,
            showFeedback: false,
            feedback: {},
            unlocked: [false, false, false, false, false],
            showNext: false,
            wrongAnswerCount: 0, // Counter untuk kesalahan dalam pertanyaan
            heartWrongCount: 0   // Counter khusus untuk game hati
        };

        // Steps data dengan gambar yang lengkap
        const steps = [
            {
                type: 'intro',
                title: 'Hai Caca! üå∏',
                text: 'Nathan ada sesuatu yang spesial untuk kamu hari ini...',
                button: 'Buka Surat ‚Üí'
            },
            {
                type: 'question',
                title: 'Pertanyaan 1',
                text: 'Kalau Nathan jadi tukang bakso, kamu mau jadi apa?',
                options: [
                    { 
                        text: 'Tukang cuci mangkok', 
                        emoji: 'ü•£',
                        correct: false, 
                        response: 'Yahh... Nathan sedih deh, kamu ga mau barengan sama Nathan ya? üò¢',
                        image: 'https://i.ibb.co.com/zWF6YrT4/lucu6.webp'
                    },
                    { 
                        text: 'Baksonya', 
                        emoji: '‚ù§Ô∏è',
                        correct: true, 
                        response: 'Yes! Kamu baksonya Nathan! Selalu di hati! ü•∞',
                        image: 'https://i.ibb.co.com/TxXFRY4h/Lucu3.webp'
                    },
                    { 
                        text: 'Tukang ngitung duit', 
                        emoji: 'üí∞',
                        correct: false, 
                        response: 'Kamu mau Nathan jadi mesin ATM aja ya? Cinta Nathan ga bisa diukur dengan uang... üíî',
                        image: 'https://i.ibb.co.com/zWF6YrT4/lucu6.webp'
                    }
                ]
            },
            {
                type: 'message',
                title: 'Pesan Spesial',
                text: 'Tau ga Caca? Kalau aku lagi sedih, aku inget muka kamu...',
                button: 'Lanjut',
                nextText: 'Langsung ketawa sendiri mikirin betapa beruntungnya aku punya kamu! üòä',
                image: 'https://i.ibb.co.com/wtrbbjz/lucu.webp'
            },
            {
                type: 'question',
                title: 'Pertanyaan 2',
                text: 'Kalau kamu lagi bad mood, Nathan harus ngapain?',
                options: [
                    { 
                        text: 'Diem aja', 
                        emoji: 'üò∂',
                        correct: false, 
                        response: 'Nathan pengen bantu tapi disuruh diem... Kamu ga mau cerita sama Nathan? üòî',
                        image: 'https://i.ibb.co.com/zWF6YrT4/lucu6.webp'
                    },
                    { 
                        text: 'Beliin makan', 
                        emoji: 'üçï',
                        correct: false, 
                        response: 'Makanan doang? Kamu cuma butuh makan ya, bukan Nathan? üíî',
                        image: 'https://i.ibb.co.com/zWF6YrT4/lucu6.webp'
                    },
                    { 
                        text: 'Peluk kamu', 
                        emoji: 'ü§ó',
                        correct: true, 
                        response: 'Yes! Siap jadi pelukis mood kamu! Pelukan Nathan khusus untuk Caca! üíñ',
                        image: 'https://i.ibb.co.com/Jw56JsWF/lucu4.webp'
                    }
                ]
            },
            {
                type: 'choice',
                title: 'Kamu Tau Ga?',
                text: 'Nathan itu...',
                options: [
                    { 
                        text: 'Bucin banget sama kamu', 
                        emoji: 'üòç',
                        response: 'Fakta! Level bucin: MAXIMUM! üåü',
                        image: 'https://i.ibb.co.com/wtrbbjz/lucu.webp'
                    },
                    { 
                        text: 'Kangen kamu tiap detik', 
                        emoji: '‚è∞',
                        response: 'Detik, menit, jam... selalu! üï∞Ô∏è‚ù§Ô∏è',
                        image: 'https://i.ibb.co.com/cKp23sHK/lucu2.webp'
                    },
                    { 
                        text: 'Pengen selalu bikin kamu ketawa', 
                        emoji: 'üòÇ',
                        response: 'Misi hidup: senyum Caca! üòÅ',
                        image: 'https://i.ibb.co.com/TxXFRY4h/Lucu3.webp'
                    },
                    { 
                        text: 'Semua jawaban benar!', 
                        emoji: '‚ú®',
                        response: 'BINGO! Nathan 100% buat Caca! üéØ',
                        image: 'https://i.ibb.co.com/Jw56JsWF/lucu4.webp'
                    }
                ],
                correct: 3
            },
            {
                type: 'game',
                title: 'Mini Game',
                text: 'Pilih hati Nathan yang sebenarnya',
                hearts: 5
            },
            {
                type: 'message',
                title: 'Fun Fact',
                text: 'Tau ga sih...',
                button: 'Lanjut',
                nextText: 'Setiap kali kamu senyum, Nathan auto senyum juga! üòÑ',
                image: 'https://i.ibb.co.com/xtkvLGMW/lucu5.webp'
            },
            {
                type: 'final',
                title: 'Selesai!',
                text: 'Kamu udah baca semua surat cinta dari Nathan!',
                image: 'https://i.ibb.co.com/cKp23sHK/lucu2.webp'
            },
            {
                type: 'sad-ending-heart',
                title: 'Aduh... Nathan Sedih Banget üíî',
                text: 'Kamu salah 2x memilih hati Nathan...',
                image: 'https://i.ibb.co.com/zWF6YrT4/lucu6.webp'
            },
            {
                type: 'sad-ending-answers',
                title: 'Nathan Sedih Tapi Tetap Lucu üò¢',
                text: 'Kamu udah salah 3x jawab pertanyaan Nathan...',
                image: 'https://i.ibb.co.com/zWF6YrT4/lucu6.webp'
            }
        ];

        // Helper functions
        function updateProgress() {
            const indicators = document.querySelectorAll('.step-indicator');
            indicators.forEach((indicator, index) => {
                if (index <= state.currentStep && index < 8) {
                    indicator.classList.remove('bg-gray-200');
                    indicator.classList.add('bg-pink-400');
                } else {
                    indicator.classList.remove('bg-pink-400');
                    indicator.classList.add('bg-gray-200');
                }
            });
            
            // Update page numbers
            const currentPage = state.currentStep < 8 ? state.currentStep + 1 : 'üò¢';
            document.getElementById('current-page').textContent = currentPage;
            document.getElementById('total-pages').textContent = '8';
        }

        function nextStep() {
            if (state.currentStep < steps.length - 3) { // Exclude sad endings
                state.currentStep++;
                state.showFeedback = false;
                state.showNext = false;
                renderStep();
            }
        }

        function showNextMessage() {
            state.showNext = true;
            renderStep();
        }

        function tryAgain() {
            state.showFeedback = false;
            renderStep();
        }

        function handleAnswer(optionIndex) {
            const step = steps[state.currentStep];
            const option = step.options[optionIndex];
            
            if (!option.correct) {
                state.wrongAnswerCount++;
                
                // Cek jika sudah salah 3x total
                if (state.wrongAnswerCount >= 3) {
                    state.currentStep = 9; // Index untuk sad-ending-answers
                    renderStep();
                    return;
                }
            }
            
            state.feedback = {
                text: option.response,
                image: option.image,
                isCorrect: option.correct,
                optionIndex: optionIndex
            };
            state.showFeedback = true;
            renderStep();
            
            if (option.correct) {
                setTimeout(nextStep, 2500);
            }
        }

        function handleChoice(optionIndex) {
            const step = steps[state.currentStep];
            const option = step.options[optionIndex];
            
            state.feedback = {
                text: option.response,
                image: option.image,
                isCorrect: (optionIndex === step.correct),
                optionIndex: optionIndex
            };
            state.showFeedback = true;
            renderStep();
            
            if (optionIndex === step.correct) {
                setTimeout(nextStep, 2500);
            }
        }

        function handleHeartClick(index) {
            if (state.unlocked[index]) return;
            
            const newUnlocked = [...state.unlocked];
            newUnlocked[index] = true;
            state.unlocked = newUnlocked;
            
            if (index === 2) {
                state.feedback = {
                    text: 'Ketemu! Ini hati Nathan untuk Caca üíï',
                    image: 'https://i.ibb.co.com/TxXFRY4h/Lucu3.webp',
                    isCorrect: true
                };
                state.showFeedback = true;
                setTimeout(nextStep, 2500);
            } else {
                // Salah pilih hati
                state.heartWrongCount++;
                
                // Cek jika sudah salah 2x
                if (state.heartWrongCount >= 2) {
                    state.currentStep = 8; // Index untuk sad-ending-heart
                    renderStep();
                    return;
                }
                
                state.feedback = {
                    text: `Salah ${state.heartWrongCount}x! ${state.heartWrongCount === 1 ? 'Coba lagi!' : 'Nathan sedih...'}`,
                    image: 'https://i.ibb.co.com/zWF6YrT4/lucu6.webp',
                    isCorrect: false
                };
                state.showFeedback = true;
                setTimeout(() => {
                    state.showFeedback = false;
                    renderStep();
                }, 1800);
            }
            renderStep();
        }

        function restartGame() {
            state.currentStep = 0;
            state.showFeedback = false;
            state.showNext = false;
            state.unlocked = [false, false, false, false, false];
            state.wrongAnswerCount = 0;
            state.heartWrongCount = 0;
            renderStep();
        }

        // Render function
        function renderStep() {
            const contentDiv = document.getElementById('content');
            const step = steps[state.currentStep];
            
            updateProgress();
            contentDiv.classList.add('animate-fade-in');
            
            setTimeout(() => {
                contentDiv.classList.remove('animate-fade-in');
            }, 400);

            if (step.type === 'intro') {
                contentDiv.innerHTML = `
                    <div class="text-center space-y-6">
                        <div class="text-5xl mb-2">üå∏</div>
                        <h2 class="text-xl text-gray-800 font-medium">${step.title}</h2>
                        <p class="text-gray-600 leading-relaxed max-w-md mx-auto">
                            ${step.text}
                        </p>
                        <button onclick="nextStep()" 
                                class="inline-flex items-center gap-2 bg-pink-500 hover:bg-pink-600 text-white px-6 py-3 rounded-lg text-sm font-medium transition-all duration-200 hover:shadow-md active:scale-95">
                            <span>${step.button}</span>
                            <span>‚Üí</span>
                        </button>
                    </div>
                `;
            }
            else if (step.type === 'question') {
                if (!state.showFeedback) {
                    contentDiv.innerHTML = `
                        <div class="space-y-6">
                            <div class="text-center">
                                <div class="text-sm text-pink-500 font-medium mb-1">${step.title}</div>
                                <p class="text-gray-700 mb-6">${step.text}</p>
                                <div class="text-xs text-gray-500 mb-2">
                                    Kesalahan: ${state.wrongAnswerCount}/3
                                </div>
                            </div>
                            <div class="space-y-3 max-w-sm mx-auto">
                                ${step.options.map((option, index) => `
                                    <button onclick="handleAnswer(${index})"
                                            class="w-full flex items-center justify-between p-3 rounded-lg border border-gray-200 hover:border-pink-200 hover:bg-pink-50 transition-all duration-200 text-left group">
                                        <div class="flex items-center gap-3">
                                            <span class="text-lg">${option.emoji}</span>
                                            <span class="text-gray-700">${option.text}</span>
                                        </div>
                                        <span class="text-gray-400 group-hover:text-pink-400">‚Üí</span>
                                    </button>
                                `).join('')}
                            </div>
                        </div>
                    `;
                } else {
                    const isCorrect = state.feedback.isCorrect;
                    contentDiv.innerHTML = `
                        <div class="space-y-6 animate-fade-in">
                            <div class="text-center">
                                <img src="${state.feedback.image}" 
                                     alt="${isCorrect ? 'Nathan senang' : 'Nathan sedih'}" 
                                     class="w-48 h-48 mx-auto rounded-xl object-cover mb-4 shadow-sm">
                                <div class="p-4 rounded-lg ${isCorrect ? 'bg-green-50' : 'bg-blue-50'}">
                                    <p class="text-gray-700 ${isCorrect ? 'text-green-700' : 'text-blue-700'}">
                                        ${state.feedback.text}
                                    </p>
                                    <div class="text-xs text-gray-500 mt-2">
                                        Total kesalahan: ${state.wrongAnswerCount}
                                    </div>
                                    ${!isCorrect ? `
                                        <div class="mt-4 flex gap-2 justify-center">
                                            <button onclick="tryAgain()"
                                                    class="px-4 py-2 text-sm bg-pink-500 hover:bg-pink-600 text-white rounded-lg transition-colors">
                                                Coba Lagi
                                            </button>
                                            <button onclick="nextStep()"
                                                    class="px-4 py-2 text-sm bg-gray-200 hover:bg-gray-300 text-gray-700 rounded-lg transition-colors">
                                                Lanjut
                                            </button>
                                        </div>
                                    ` : ''}
                                </div>
                            </div>
                        </div>
                    `;
                }
            }
            else if (step.type === 'message') {
                if (!state.showNext) {
                    contentDiv.innerHTML = `
                        <div class="space-y-6">
                            <div class="text-center">
                                <div class="text-sm text-pink-500 font-medium mb-1">${step.title}</div>
                                <p class="text-gray-700 mb-6">${step.text}</p>
                            </div>
                            <div class="text-center">
                                <button onclick="showNextMessage()"
                                        class="inline-flex items-center gap-2 bg-pink-500 hover:bg-pink-600 text-white px-6 py-3 rounded-lg text-sm font-medium transition-all duration-200 hover:shadow-md">
                                    ${step.button}
                                </button>
                            </div>
                        </div>
                    `;
                } else {
                    contentDiv.innerHTML = `
                        <div class="space-y-6 animate-fade-in">
                            <div class="text-center">
                                <img src="${step.image}" 
                                     alt="Pesan spesial Nathan" 
                                     class="w-56 h-56 mx-auto rounded-xl object-cover mb-4 shadow-sm">
                                <div class="bg-pink-50 p-4 rounded-lg">
                                    <p class="text-gray-700">
                                        ${step.nextText}
                                    </p>
                                </div>
                            </div>
                            <div class="text-center">
                                <button onclick="nextStep()"
                                        class="inline-flex items-center gap-2 bg-pink-500 hover:bg-pink-600 text-white px-6 py-3 rounded-lg text-sm font-medium transition-all duration-200">
                                    Lanjut ‚Üí
                                </button>
                            </div>
                        </div>
                    `;
                }
            }
            else if (step.type === 'choice') {
                if (!state.showFeedback) {
                    contentDiv.innerHTML = `
                        <div class="space-y-6">
                            <div class="text-center">
                                <div class="text-sm text-pink-500 font-medium mb-1">${step.title}</div>
                                <p class="text-gray-700 mb-6">${step.text}</p>
                            </div>
                            <div class="grid grid-cols-2 gap-3 max-w-sm mx-auto">
                                ${step.options.map((option, index) => `
                                    <button onclick="handleChoice(${index})"
                                            class="p-4 rounded-lg border border-gray-200 hover:border-pink-200 hover:bg-pink-50 transition-all duration-200">
                                        <div class="text-lg mb-1">${option.emoji}</div>
                                        <div class="text-sm text-gray-700">${option.text}</div>
                                    </button>
                                `).join('')}
                            </div>
                        </div>
                    `;
                } else {
                    const isCorrect = state.feedback.isCorrect;
                    contentDiv.innerHTML = `
                        <div class="space-y-6 animate-fade-in">
                            <div class="text-center">
                                <img src="${state.feedback.image}" 
                                     alt="Respons Nathan" 
                                     class="w-48 h-48 mx-auto rounded-xl object-cover mb-4 shadow-sm">
                                <div class="p-4 rounded-lg ${isCorrect ? 'bg-green-50' : 'bg-blue-50'}">
                                    <p class="text-gray-700 ${isCorrect ? 'text-green-700' : 'text-blue-700'}">
                                        ${state.feedback.text}
                                    </p>
                                    ${!isCorrect ? `
                                        <button onclick="tryAgain()"
                                                class="mt-4 px-4 py-2 text-sm bg-pink-500 hover:bg-pink-600 text-white rounded-lg transition-colors">
                                            Coba Lagi
                                        </button>
                                    ` : ''}
                                </div>
                            </div>
                        </div>
                    `;
                }
            }
            else if (step.type === 'game') {
                contentDiv.innerHTML = `
                    <div class="space-y-6">
                        <div class="text-center">
                            <div class="text-sm text-pink-500 font-medium mb-1">${step.title}</div>
                            <p class="text-gray-700 mb-6">${step.text}</p>
                            <div class="text-xs text-gray-500 mb-4">
                                Kesalahan: ${state.heartWrongCount}/2
                            </div>
                        </div>
                        <div class="flex justify-center gap-3 flex-wrap">
                            ${Array(5).fill().map((_, index) => `
                                <button onclick="handleHeartClick(${index})"
                                        class="text-4xl transition-transform ${state.unlocked[index] ? 'opacity-50' : 'hover:scale-110'}">
                                    ${state.unlocked[index] ? (index === 2 ? 'üíñ' : 'üíî') : '‚ù§Ô∏è'}
                                </button>
                            `).join('')}
                        </div>
                        ${state.showFeedback ? `
                            <div class="animate-fade-in text-center">
                                <img src="${state.feedback.image}" 
                                     alt="${state.feedback.isCorrect ? 'Hati Nathan' : 'Coba lagi'}" 
                                     class="w-48 h-48 mx-auto rounded-xl object-cover mb-4 shadow-sm">
                                <div class="p-4 rounded-lg ${state.feedback.isCorrect ? 'bg-green-50' : 'bg-blue-50'}">
                                    <p class="text-gray-700">
                                        ${state.feedback.text}
                                    </p>
                                </div>
                            </div>
                        ` : ''}
                    </div>
                `;
            }
            else if (step.type === 'final') {
                contentDiv.innerHTML = `
                    <div class="space-y-6 animate-fade-in">
                        <div class="text-center">
                            <div class="text-4xl mb-4">üéâ</div>
                            <h2 class="text-xl text-gray-800 font-medium mb-2">${step.title}</h2>
                            <p class="text-gray-600 mb-6">${step.text}</p>
                        </div>
                        <div class="text-center">
                            <img src="${step.image}" 
                                 alt="Selamat dari Nathan" 
                                 class="w-64 h-64 mx-auto rounded-xl object-cover mb-6 shadow-sm">
                        </div>
                        <div class="bg-pink-50 rounded-lg p-6 text-center">
                            <p class="text-gray-700 mb-4">
                                "Caca, terima kasih sudah jadi orang yang paling bikin hidup Nathan berwarna."
                            </p>
                            <p class="text-sm text-gray-500">- Nathan üíï</p>
                        </div>
                        <div class="text-center">
                            <button onclick="restartGame()"
                                    class="inline-flex items-center gap-2 bg-pink-500 hover:bg-pink-600 text-white px-6 py-3 rounded-lg text-sm font-medium transition-all duration-200">
                                Baca Lagi dari Awal
                            </button>
                        </div>
                    </div>
                `;
            }
            else if (step.type === 'sad-ending-heart') {
                contentDiv.innerHTML = `
                    <div class="space-y-6 animate-fade-in animate-sad-shake">
                        <div class="text-center">
                            <div class="text-4xl mb-2">üíî</div>
                            <h2 class="text-xl text-gray-800 font-medium mb-2">${step.title}</h2>
                            <p class="text-gray-600 mb-4">${step.text}</p>
                        </div>
                        <div class="text-center">
                            <img src="${step.image}" 
                                 alt="Nathan sedih banget" 
                                 class="w-64 h-64 mx-auto rounded-xl object-cover mb-6 shadow-sm">
                        </div>
                        <div class="bg-blue-50 rounded-lg p-6 text-center">
                            <p class="text-gray-700 mb-3">
                                "Aduh Caca... Kamu salah 2x milih hati Nathan üò≠"
                            </p>
                            <p class="text-gray-700 mb-3">
                                "Nathan sedih banget nih, tapi lucu kan masih bisa ketawa sambil nangis? üòÇüíî"
                            </p>
                            <p class="text-gray-700 mb-4">
                                "Nathan cuma punya satu hati khusus buat Caca, tapi kamu pilih yang lain mulu..."
                            </p>
                            <p class="text-sm text-gray-500">- Nathan yang hati-hatinya sakit üíî</p>
                        </div>
                        <div class="text-center">
                            <button onclick="restartGame()"
                                    class="inline-flex items-center gap-2 bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg text-sm font-medium transition-all duration-200">
                                Main Lagi (Biar Nathan senang)
                            </button>
                        </div>
                    </div>
                `;
            }
            else if (step.type === 'sad-ending-answers') {
                contentDiv.innerHTML = `
                    <div class="space-y-6 animate-fade-in animate-sad-shake">
                        <div class="text-center">
                            <div class="text-4xl mb-2">üò¢</div>
                            <h2 class="text-xl text-gray-800 font-medium mb-2">${step.title}</h2>
                            <p class="text-gray-600 mb-4">${step.text}</p>
                        </div>
                        <div class="text-center">
                            <img src="${step.image}" 
                                 alt="Nathan sedih tapi lucu" 
                                 class="w-64 h-64 mx-auto rounded-xl object-cover mb-6 shadow-sm">
                        </div>
                        <div class="bg-purple-50 rounded-lg p-6 text-center">
                            <p class="text-gray-700 mb-3">
                                "Caca... Kamu udah salah 3x jawab pertanyaan Nathan üò¢"
                            </p>
                            <p class="text-gray-700 mb-3">
                                "Nathan sedih banget nih, rasanya kayak bakso kehilangan bumbu üòÇ"
                            </p>
                            <p class="text-gray-700 mb-3">
                                "Tapi gapapa deh, Nathan masih sayang kok sama Caca! ‚ù§Ô∏è"
                            </p>
                            <p class="text-gray-700 mb-4">
                                "Mungkin Caca perlu belajar lagi tentang Nathan nih, hehe!"
                            </p>
                            <p class="text-sm text-gray-500">- Nathan yang sedih tapi tetap lucu üòÇüíï</p>
                        </div>
                        <div class="text-center">
                            <button onclick="restartGame()"
                                    class="inline-flex items-center gap-2 bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-lg text-sm font-medium transition-all duration-200">
                                Ayo Coba Lagi!
                            </button>
                        </div>
                    </div>
                `;
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', renderStep);
    </script>
</body>
</html><!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christmas Gift for Caca</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Lato:wght@300;400&display=swap" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Lato', sans-serif;
            background-color: #fefce8;
            color: #1a202c;
            overflow-x: hidden;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Cormorant Garamond', serif;
        }
        
        /* Hero Section */
        .hero {
            min-height: 100vh;
            background: linear-gradient(rgba(34, 84, 61, 0.9), rgba(21, 50, 36, 0.95)),
                        url('https://images.unsplash.com/photo-1512389142860-9c449e58a543?w=1600&q=80');
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }
        
        /* Starfield Container di atas background */
        .starfield {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }
        
        /* Individual Star Styles - Warna kuning */
        .star {
            position: absolute;
            background-color: #fbbf24; /* Warna kuning */
            border-radius: 50%;
            opacity: 0;
            animation: twinkle var(--twinkle-duration) infinite ease-in-out;
        }
        
        /* Large Stars */
        .star.large {
            width: 3px;
            height: 3px;
            box-shadow: 0 0 10px 2px rgba(251, 191, 36, 0.8),
                       0 0 20px 3px rgba(251, 191, 36, 0.5);
        }
        
        /* Medium Stars */
        .star.medium {
            width: 2px;
            height: 2px;
            box-shadow: 0 0 8px 1px rgba(251, 191, 36, 0.6),
                       0 0 15px 2px rgba(251, 191, 36, 0.3);
        }
        
        /* Small Stars */
        .star.small {
            width: 1px;
            height: 1px;
            box-shadow: 0 0 5px 1px rgba(251, 191, 36, 0.4),
                       0 0 10px 1px rgba(251, 191, 36, 0.2);
        }
        
        /* Twinkling Animation yang halus */
        @keyframes twinkle {
            0%, 100% {
                opacity: 0.1;
                transform: scale(1);
            }
            25% {
                opacity: 0.3;
                transform: scale(1.1);
            }
            50% {
                opacity: var(--max-opacity);
                transform: scale(1.2);
            }
            75% {
                opacity: 0.2;
                transform: scale(1.05);
            }
        }
        
        /* Subtle floating animation */
        @keyframes float {
            0%, 100% {
                transform: translate(0, 0);
            }
            25% {
                transform: translate(var(--float-x), var(--float-y));
            }
            50% {
                transform: translate(calc(var(--float-x) * -1), calc(var(--float-y) * -1));
            }
            75% {
                transform: translate(calc(var(--float-x) * 0.5), calc(var(--float-y) * 0.5));
            }
        }
        
        /* Hero Content */
        .hero-content {
            position: relative;
            z-index: 2;
            text-align: center;
            padding: 20px;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .hero-content h1 {
            font-size: 4rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }
        
        .hero-content .name {
            font-size: 5rem;
            color: #fbbf24;
            display: block;
            text-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
        }
        
        .open-letter-btn {
            background: linear-gradient(to right, #f59e0b, #fbbf24);
            color: #1a202c;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 40px;
            transition: all 0.3s;
            position: relative;
            z-index: 2;
        }
        
        .open-letter-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }
        
        /* Letter Section */
        .letter {
            padding: 80px 20px;
            background-color: #fefce8;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .letter-content {
            background: white;
            padding: 50px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 1px solid #fbbf24;
        }
        
        /* Gallery Section - DIPERBAIKI UNTUK 7 FOTO */
        .gallery {
            padding: 100px 20px;
            background-color: #f8f4e9;
            background-image: radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.1) 0%, transparent 20%),
                              radial-gradient(circle at 90% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 20%);
            min-height: 100vh;
            position: relative;
        }
        
        .gallery::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.05) 0%, transparent 50%),
                        linear-gradient(45deg, rgba(139, 92, 246, 0.03) 0%, transparent 50%);
            pointer-events: none;
        }
        
        .gallery-container {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
        }
        
        .gallery-title {
            text-align: center;
            color: #7c2d12;
            margin-bottom: 80px;
            font-size: 2.8rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            position: relative;
            z-index: 2;
        }
        
        .gallery-title i {
            color: #d97706;
            margin: 0 15px;
            animation: twinkle 3s infinite;
        }
        
        /* Minimalist Wall with Rope - DIPERBAIKI UNTUK BANYAK FOTO */
        .wall-display {
            background: #f8f4e9;
            border-radius: 15px;
            padding: 60px 40px;
            position: relative;
            box-shadow: 
                inset 0 0 50px rgba(0,0,0,0.03),
                0 20px 60px rgba(0,0,0,0.1);
            border: 1px solid rgba(210, 180, 140, 0.3);
            min-height: 400px;
        }
        
        /* Jute Rope - DIPERBAIKI UNTUK BANYAK FOTO */
        .jute-rope {
            position: absolute;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            width: 95%;
            height: 3px;
            background: linear-gradient(to right,
                #d2b48c 0%,
                #b8860b 25%,
                #d2b48c 50%,
                #b8860b 75%,
                #d2b48c 100%);
            z-index: 1;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
            border-radius: 2px;
        }
        
        .jute-rope::before,
        .jute-rope::after {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            background: #8B4513;
            border-radius: 50%;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .jute-rope::before {
            left: -15px;
        }
        
        .jute-rope::after {
            right: -15px;
        }
        
        /* Photo Grid - DIPERBAIKI UNTUK 7 FOTO */
        .photo-wall {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 50px 40px;
            margin-top: 40px;
            position: relative;
            z-index: 2;
        }
        
        /* Individual Photo Display */
        .photo-display {
            position: relative;
            perspective: 1000px;
            transition: transform 0.5s ease;
            animation: fadeInUp 0.8s ease-out forwards;
            opacity: 0;
        }
        
        /* Staggered animation untuk foto */
        .photo-display:nth-child(1) { animation-delay: 0.1s; }
        .photo-display:nth-child(2) { animation-delay: 0.2s; }
        .photo-display:nth-child(3) { animation-delay: 0.3s; }
        .photo-display:nth-child(4) { animation-delay: 0.4s; }
        .photo-display:nth-child(5) { animation-delay: 0.5s; }
        .photo-display:nth-child(6) { animation-delay: 0.6s; }
        .photo-display:nth-child(7) { animation-delay: 0.7s; }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .photo-display:hover {
            transform: translateY(-15px) rotateX(5deg);
        }
        
        /* Wooden Clothespin */
        .clothespin {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            width: 24px;
            height: 40px;
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
            clip-path: polygon(0% 0%, 100% 0%, 80% 100%, 20% 100%);
            z-index: 3;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            border-radius: 2px;
        }
        
        .clothespin::before {
            content: '';
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 16px;
            height: 6px;
            background: #5D4037;
            border-radius: 1px;
        }
        
        /* Polaroid-style Photo Frame */
        .polaroid-frame {
            background: white;
            padding: 15px 15px 40px 15px;
            border-radius: 8px;
            box-shadow: 
                0 15px 35px rgba(0,0,0,0.15),
                0 5px 15px rgba(0,0,0,0.1),
                inset 0 0 0 1px rgba(255,255,255,0.8);
            transform: rotate(0.5deg);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }
        
        .polaroid-frame::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #f5f5f5 0%, #e0e0e0 100%);
        }
        
        .photo-display:hover .polaroid-frame {
            box-shadow: 
                0 25px 50px rgba(0,0,0,0.25),
                0 10px 20px rgba(0,0,0,0.15),
                inset 0 0 0 1px rgba(255,255,255,0.9);
            transform: rotate(0deg);
        }
        
        /* Square 1:1 Photo */
        .square-photo {
            width: 100%;
            height: 0;
            padding-bottom: 100%;
            position: relative;
            overflow: hidden;
            border-radius: 4px;
        }
        
        .square-photo img {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.8s ease;
            filter: sepia(0.2) brightness(1.05) contrast(1.1);
        }
        
        .photo-display:hover .square-photo img {
            transform: scale(1.05);
        }
        
        /* Photo Caption */
        .photo-caption {
            text-align: center;
            margin-top: 20px;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.1rem;
            color: #7c2d12;
            font-style: italic;
            padding: 0 10px;
            opacity: 0.9;
            transition: opacity 0.3s ease;
        }
        
        .photo-display:hover .photo-caption {
            opacity: 1;
        }
        
        /* Ambient Lighting Effect */
        .ambient-light {
            position: absolute;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, rgba(251, 191, 36, 0.15) 0%, transparent 70%);
            border-radius: 50%;
            filter: blur(20px);
            z-index: 0;
            animation: ambient-float 15s infinite ease-in-out;
        }
        
        .light-1 {
            top: 20%;
            left: 10%;
        }
        
        .light-2 {
            bottom: 20%;
            right: 10%;
        }
        
        @keyframes ambient-float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -20px) scale(1.1); }
            66% { transform: translate(-20px, 30px) scale(0.9); }
        }
        
        /* Reflection Message - Pesan Refleksi Baru */
        .reflection-message {
            text-align: center;
            margin: 60px auto 40px;
            max-width: 800px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), rgba(139, 92, 246, 0.05));
            border-radius: 15px;
            border: 1px solid rgba(251, 191, 36, 0.2);
            position: relative;
            overflow: hidden;
            animation: fadeIn 1.5s ease-out forwards;
        }
        
        .reflection-message::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 10% 20%, rgba(251, 191, 36, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 90% 80%, rgba(139, 92, 246, 0.05) 0%, transparent 50%);
            z-index: 0;
        }
        
        .reflection-content {
            position: relative;
            z-index: 1;
        }
        
        .reflection-icon {
            font-size: 2.5rem;
            color: #d97706;
            margin-bottom: 20px;
            animation: gentle-pulse 2s infinite;
        }
        
        @keyframes gentle-pulse {
            0%, 100% { 
                transform: scale(1); 
                opacity: 0.8;
            }
            50% { 
                transform: scale(1.1); 
                opacity: 1;
            }
        }
        
        .reflection-text {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.8rem;
            line-height: 1.6;
            color: #7c2d12;
            margin-bottom: 15px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.05);
        }
        
        .reflection-subtext {
            font-family: 'Lato', sans-serif;
            font-size: 1.1rem;
            color: #6b7280;
            font-style: italic;
            margin-top: 15px;
            opacity: 0.8;
        }
        
        /* Navigation Button */
        .gallery-nav {
            text-align: center;
            margin-top: 40px;
            position: relative;
            z-index: 3;
        }
        
        /* Footer */
        .footer {
            padding: 60px 20px;
            background: linear-gradient(to bottom, #fefce8, #dcfce7);
            text-align: center;
            position: relative;
        }
        
        /* Apology Page - Halaman Permintaan Maaf Baru */
        .apology-page {
            min-height: 100vh;
            padding: 80px 20px;
            background: linear-gradient(135deg, #fefce8 0%, #fce7f3 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }
        
        .apology-page::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(251, 191, 36, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(220, 38, 38, 0.1) 0%, transparent 50%);
            z-index: 0;
        }
        
        .apology-container {
            position: relative;
            z-index: 1;
            max-width: 800px;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            padding: 60px 40px;
            border-radius: 20px;
            box-shadow: 
                0 20px 60px rgba(0, 0, 0, 0.1),
                0 0 0 1px rgba(251, 191, 36, 0.2);
            border: 2px solid rgba(251, 191, 36, 0.3);
        }
        
        .apology-header {
            text-align: center;
            margin-bottom: 50px;
            position: relative;
        }
        
        .apology-header h1 {
            font-size: 3.5rem;
            color: #dc2626;
            margin-bottom: 20px;
            position: relative;
            display: inline-block;
        }
        
        .apology-header h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: linear-gradient(to right, #f59e0b, #fbbf24);
            border-radius: 2px;
        }
        
        .apology-icon {
            font-size: 4rem;
            color: #dc2626;
            margin-bottom: 20px;
            animation: heartbeat 1.5s infinite;
        }
        
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .apology-content {
            font-size: 1.3rem;
            line-height: 1.8;
            color: #374151;
            margin-bottom: 50px;
        }
        
        .apology-text {
            margin-bottom: 30px;
            padding: 20px;
            background: linear-gradient(135deg, rgba(254, 226, 226, 0.2), rgba(254, 249, 195, 0.2));
            border-radius: 15px;
            border-left: 4px solid #dc2626;
            position: relative;
            overflow: hidden;
        }
        
        .apology-text::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 10% 20%, rgba(251, 191, 36, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 90% 80%, rgba(220, 38, 38, 0.1) 0%, transparent 50%);
            z-index: 0;
        }
        
        .apology-text p {
            position: relative;
            z-index: 1;
            margin-bottom: 15px;
        }
        
        .apology-text p:last-child {
            margin-bottom: 0;
        }
        
        .apology-signature {
            text-align: center;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 2px solid rgba(251, 191, 36, 0.3);
        }
        
        .apology-signature p {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.8rem;
            color: #92400e;
            margin-bottom: 10px;
        }
        
        .apology-date {
            color: #6b7280;
            font-size: 1rem;
        }
        
        /* Button khusus untuk permintaan maaf */
        .apology-btn {
            background: linear-gradient(to right, #dc2626, #ef4444);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .apology-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(220, 38, 38, 0.3);
        }
        
        /* Tombol kembali */
        .back-btn {
            background: linear-gradient(to right, #6b7280, #9ca3af);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .back-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(107, 114, 128, 0.3);
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 1s ease-out;
        }
        
        /* Responsive Design - DIPERBAIKI UNTUK 7 FOTO */
        @media (max-width: 1400px) {
            .photo-wall {
                grid-template-columns: repeat(3, 1fr);
                gap: 50px 40px;
            }
        }
        
        @media (max-width: 1200px) {
            .photo-wall {
                grid-template-columns: repeat(2, 1fr);
                gap: 50px 40px;
            }
            
            .reflection-text {
                font-size: 1.6rem;
            }
        }
        
        @media (max-width: 768px) {
            .hero-content h1 { font-size: 2.5rem; }
            .hero-content .name { font-size: 3rem; }
            .letter-content { padding: 30px 20px; }
            
            .gallery-title {
                font-size: 2.2rem;
                margin-bottom: 60px;
            }
            
            .photo-wall {
                grid-template-columns: 1fr;
                max-width: 400px;
                margin-left: auto;
                margin-right: auto;
            }
            
            .wall-display {
                padding: 50px 20px;
            }
            
            .jute-rope {
                width: 95%;
            }
            
            .reflection-message {
                padding: 20px;
                margin: 40px 20px 30px;
            }
            
            .reflection-text {
                font-size: 1.4rem;
            }
            
            .reflection-icon {
                font-size: 2rem;
            }
            
            .apology-container {
                padding: 40px 20px;
                margin: 20px;
            }
            
            .apology-header h1 {
                font-size: 2.5rem;
            }
            
            .apology-content {
                font-size: 1.1rem;
            }
            
            .apology-text {
                padding: 15px;
            }
        }
        
        @media (max-width: 480px) {
            .photo-wall {
                gap: 50px;
            }
            
            .gallery-title {
                font-size: 1.8rem;
            }
            
            .footer-content h1 {
                font-size: 2.5rem;
            }
            
            .reflection-text {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Hero Section dengan Background Original dan Bintang -->
    <section class="hero" id="hero">
        <!-- Container untuk bintang-bintang -->
        <div class="starfield" id="starfield"></div>
        
        <!-- Hero Content -->
        <div class="hero-content">
            <h1>For My Dearest<br><span class="name">Caca</span></h1>
            <p style="font-size: 1.5rem; margin-top: 20px;">A Christmas Wish Just For You</p>
            <button class="open-letter-btn" onclick="openLetter()">
                <i class="bi bi-envelope-heart"></i> Buka Suratku
            </button>
        </div>
    </section>

    <!-- Letter Section (Hidden by default) -->
    <section class="letter fade-in" id="letter" style="display: none;">
        <div class="letter-content">
            <h2 style="text-align: center; color: #166534; margin-bottom: 40px;">
                <i class="bi bi-heart-fill" style="color: #dc2626;"></i> Sepucuk Surat Untukmu
            </h2>
            
            <div style="font-size: 1.2rem; line-height: 1.8; color: #374151;">
                <p style="margin-bottom: 25px; font-family: 'Cormorant Garamond', serif; font-size: 1.5rem; color: #166534;">
                    My Dear Caca,
                </p>
                
                <p style="margin-bottom: 25px;">
                    Natal tahun ini terasa lebih istimewa karena ada kamu di dalamnya. 
                    Terima kasih sudah menjadi bagian terindah dari hidupku. 
                    Setiap hari bersamamu adalah hadiah yang tak ternilai harganya.
                </p>
                
                <p style="margin-bottom: 25px;">
                    Setiap kali mendengar tawa riangmu, rasanya seperti hadiah terindah yang pernah kuterima. 
                    Inget ga waktu kita retret bareng? Main keyboard, jalan-jalan, 
                    semua kenangan indah di tahun ini... Momen-momen seperti itu yang membuatku 
                    sadar betapa bersyukurnya aku memilikimu.
                </p>
                
                <p style="margin-bottom: 25px;">
                    Di malam Natal yang suci ini, aku mendoakan yang terbaik untukmu. 
                    Semoga kehangatan dan kebahagiaan selalu menyelimutimu. 
                    Semoga mimpi-mimpimu terwujud dan tahun depan menjadi tahun yang penuh berkah. 
                    Kamu layak mendapatkan semua kebahagiaan di dunia ini.
                </p>
                
                <div style="border-top: 2px solid #fbbf24; padding-top: 30px; margin-top: 40px;">
                    <p style="color: #dc2626; font-weight: bold;">With all my love,</p>
                    <p style="font-family: 'Cormorant Garamond', serif; font-size: 2rem; color: #92400e;">
                        Nathan
                    </p>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 40px;">
                <button class="open-letter-btn" onclick="showGallery()">
                    <i class="bi bi-images"></i> Lihat Foto-foto Kita
                </button>
            </div>
        </div>
    </section>

    <!-- Gallery Section (Hidden by default) -->
    <section class="gallery fade-in" id="gallery" style="display: none;">
        <div class="ambient-light light-1"></div>
        <div class="ambient-light light-2"></div>
        
        <div class="gallery-container">
            <h2 class="gallery-title">
                <i class="bi bi-stars"></i> Kenangan Terindah Kita <i class="bi bi-stars"></i>
            </h2>
            
            <div class="wall-display">
                <div class="jute-rope"></div>
                
                <div class="photo-wall">
                    <!-- Foto 1 - Original -->
                    <div class="photo-display">
                        <div class="clothespin"></div>
                        <div class="polaroid-frame">
                            <div class="square-photo">
                                <img src="https://i.ibb.co.com/70xB3Js/IMG-7554.jpg" alt="Momen bahagia bersama Caca">
                            </div>
                        </div>
                        <div class="photo-caption">Momen indah yang selalu kuingat</div>
                    </div>
                    
                    <!-- Foto 2 - Original -->
                    <div class="photo-display">
                        <div class="clothespin"></div>
                        <div class="polaroid-frame">
                            <div class="square-photo">
                                <img src="https://i.ibb.co.com/3YVVXRvT/IMG-7557.jpg" alt="Tawa riang Caca">
                            </div>
                        </div>
                        <div class="photo-caption">Tawa riangmu adalah musik terindah</div>
                    </div>
                    
                    <!-- Foto 3 - Original -->
                    <div class="photo-display">
                        <div class="clothespin"></div>
                        <div class="polaroid-frame">
                            <div class="square-photo">
                                <img src="https://i.ibb.co.com/NdHyYXM7/IMG-7639.jpg" alt="Kenangan manis">
                            </div>
                        </div>
                        <div class="photo-caption">Kenangan manis yang abadi</div>
                    </div>
                    
                    <!-- Foto 4 - Original -->
                    <div class="photo-display">
                        <div class="clothespin"></div>
                        <div class="polaroid-frame">
                            <div class="square-photo">
                                <img src="https://i.ibb.co.com/0RTM0xZ3/IMG-7640.jpg" alt="Caca adalah hadiah terindah">
                            </div>
                        </div>
                        <div class="photo-caption">Kamu adalah hadiah terindahku</div>
                    </div>
                    
                    <!-- Foto 5 - Baru -->
                    <div class="photo-display">
                        <div class="clothespin"></div>
                        <div class="polaroid-frame">
                            <div class="square-photo">
                                <img src="https://i.ibb.co.com/bjXQBRXT/Whats-App-Image-2025-12-10-at-18-56-30.jpg" alt="Momen spesial bersama Caca">
                            </div>
                        </div>
                        <div class="photo-caption">Setiap detik bersamamu berharga</div>
                    </div>
                    
                    <!-- Foto 6 - Baru -->
                    <div class="photo-display">
                        <div class="clothespin"></div>
                        <div class="polaroid-frame">
                            <div class="square-photo">
                                <img src="https://i.ibb.co.com/qMPLrT4t/Whats-App-Image-2025-12-10-at-18-56-29-1.jpg" alt="Kenangan manis kita">
                            </div>
                        </div>
                        <div class="photo-caption">Cerita kita yang tak terlupakan</div>
                    </div>
                    
                    <!-- Foto 7 - Baru -->
                    <div class="photo-display">
                        <div class="clothespin"></div>
                        <div class="polaroid-frame">
                            <div class="square-photo">
                                <img src="https://i.ibb.co.com/V06v2q7B/Whats-App-Image-2025-12-10-at-18-56-29.jpg" alt="Kebersamaan yang berarti">
                            </div>
                        </div>
                        <div class="photo-caption">Kebahagiaan sederhana bersamamu</div>
                    </div>
                </div>
            </div>
            
            <!-- Pesan Refleksi - Baru Ditambahkan -->
            <div class="reflection-message">
                <div class="reflection-content">
                    <div class="reflection-icon">
                        <i class="bi bi-heart-fill"></i>
                    </div>
                    <p class="reflection-text">
                        Melihat kembali semua foto ini, aku baru tersadar betapa banyaknya momen indah 
                        yang telah kita lewati bersama...
                    </p>
                    <p class="reflection-text">
                        Setiap tawa, setiap cerita, setiap detik bersamamu telah mengukir 
                        kenangan terindah dalam hidupku.
                    </p>
                    <p class="reflection-subtext">
                        Terima kasih sudah menjadi bagian dari setiap cerita indahku
                    </p>
                </div>
            </div>
            
            <div class="gallery-nav">
                <button class="open-letter-btn" onclick="showFooter()">
                    <i class="bi bi-gift-fill"></i> Pesan Terakhir
                </button>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <section class="footer fade-in" id="footer" style="display: none;">
        <div style="max-width: 600px; margin: 0 auto;">
            <h1 style="font-size: 3.5rem; color: #166534; margin-bottom: 20px;">
                Merry Christmas,<br>
                <span style="color: #d97706; display: block;">My Love</span>
            </h1>
            
            <p style="font-size: 1.2rem; color: #4b5563; margin-bottom: 40px;">
                Semoga keajaiban Natal ini membawa kehangatan dan kebahagiaan ke dalam hatimu
            </p>
            
            <!-- Tombol untuk membuka halaman permintaan maaf -->
            <div style="margin-bottom: 40px;">
                <button class="apology-btn" onclick="showApologyPage()">
                    <i class="bi bi-heartbreak"></i> Baca Permintaan Maafku
                </button>
            </div>
            
            <div style="background: rgba(251, 191, 36, 0.1); padding: 20px; border-radius: 15px; display: inline-block; margin-top: 20px;">
                <p style="font-size: 1.1rem; color: #92400e;">
                    <i class="bi bi-heart-fill" style="color: #dc2626;"></i>
                    Made with love for Caca
                    <i class="bi bi-heart-fill" style="color: #dc2626;"></i>
                </p>
            </div>
            
            <div style="margin-top: 40px; color: #6b7280;">
                <p>Christmas 2025</p>
                <p style="font-size: 0.9rem;">A digital gift from Nathan</p>
            </div>
        </div>
    </section>

    <!-- Apology Page - Halaman Permintaan Maaf Baru -->
    <section class="apology-page fade-in" id="apologyPage" style="display: none;">
        <div class="apology-container">
            <div class="apology-header">
                <div class="apology-icon">
                    <i class="bi bi-heartbreak"></i>
                </div>
                <h1>Permintaan Maaf Untukmu</h1>
                <p style="color: #6b7280; font-size: 1.2rem;">Dari hati yang paling dalam...</p>
            </div>
            
            <div class="apology-content">
                <div class="apology-text">
                    <p>Caca tersayang,</p>
                    
                    <p>Di momen Natal yang penuh kasih ini, aku ingin menyampaikan permintaan maaf yang tulus dari lubuk hatiku yang paling dalam.</p>
                    
                    <p>Maafkan aku atas semua kesalahan dan kekuranganku selama ini. Maaf jika ada kata-kataku yang pernah melukai perasaanmu, maaf jika ada sikapku yang membuatmu kecewa, dan maaf jika aku belum bisa menjadi seperti yang kamu harapkan.</p>
                    
                    <p>Setiap hari, aku bersyukur memiliki kamu dalam hidupku. Kamu adalah hadiah terindah yang pernah Tuhan berikan padaku. Namun aku sadar, aku tidak selalu menjadi yang terbaik untukmu.</p>
                    
                    <p>Tahun ini telah mengajarkan aku banyak hal. Aku belajar bahwa cinta bukan hanya tentang kebahagiaan bersama, tetapi juga tentang saling memaafkan, saling memahami, dan tumbuh bersama.</p>
                    
                    <p>Aku berjanji akan berusaha lebih baik lagi. Aku akan lebih memperhatikan perasaanmu, lebih memahami keinginanmu, dan lebih menghargai setiap momen bersamamu.</p>
                    
                    <p>Terima kasih sudah tetap bersamaku meskipun aku punya banyak kekurangan. Terima kasih atas kesabaranmu yang tak pernah habis, terima kasih atas pengertianmu yang selalu ada.</p>
                    
                    <p>Di malam Natal yang suci ini, aku berdoa semoga kamu bisa memaafkan semua kesalahanku. Aku ingin memulai tahun baru dengan hati yang bersih dan janji untuk menjadi pribadi yang lebih baik untukmu.</p>
                    
                    <p>Kamu adalah segalanya bagiku, dan aku tidak ingin kehilangan kamu karena kesalahan-kesalahanku.</p>
                </div>
                
                <div class="apology-signature">
                    <p>Dengan penuh penyesalan dan harapan,</p>
                    <p style="font-size: 2.2rem; color: #92400e; margin-top: 10px;">Nathan</p>
                    <p class="apology-date">Christmas 2025</p>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 50px;">
                <button class="back-btn" onclick="backToFooter()">
                    <i class="bi bi-arrow-left"></i> Kembali ke Pesan Natal
                </button>
            </div>
        </div>
    </section>

    <script>
        // Starfield Generation dengan animasi yang lebih halus
        function createStarfield() {
            const starfield = document.getElementById('starfield');
            const starCount = 150;
            
            starfield.innerHTML = '';
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                
                const size = Math.random();
                if (size < 0.4) {
                    star.classList.add('star', 'small');
                } else if (size < 0.7) {
                    star.classList.add('star', 'medium');
                } else {
                    star.classList.add('star', 'large');
                }
                
                const x = Math.random() * 100;
                const y = Math.random() * 100;
                
                const twinkleDuration = 2 + Math.random() * 4;
                const maxOpacity = 0.3 + Math.random() * 0.5;
                
                const floatDistance = 2 + Math.random() * 5;
                const floatX = Math.cos(Math.random() * Math.PI * 2) * floatDistance;
                const floatY = Math.sin(Math.random() * Math.PI * 2) * floatDistance;
                
                star.style.cssText = `
                    left: ${x}%;
                    top: ${y}%;
                    --twinkle-duration: ${twinkleDuration}s;
                    --max-opacity: ${maxOpacity};
                    --float-x: ${floatX}px;
                    --float-y: ${floatY}px;
                    animation: twinkle ${twinkleDuration}s infinite ease-in-out,
                               float ${twinkleDuration * 3}s infinite ease-in-out;
                    animation-delay: ${Math.random() * 2}s;
                `;
                
                starfield.appendChild(star);
            }
        }
        
        function openLetter() {
            document.getElementById('hero').style.display = 'none';
            document.getElementById('letter').style.display = 'block';
            window.scrollTo(0, 0);
        }
        
        function showGallery() {
            document.getElementById('letter').style.display = 'none';
            document.getElementById('gallery').style.display = 'block';
            document.getElementById('gallery').scrollIntoView({ behavior: 'smooth' });
        }
        
        function showFooter() {
            document.getElementById('gallery').style.display = 'none';
            document.getElementById('footer').style.display = 'block';
            document.getElementById('footer').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Fungsi untuk menampilkan halaman permintaan maaf
        function showApologyPage() {
            document.getElementById('footer').style.display = 'none';
            document.getElementById('apologyPage').style.display = 'flex';
            document.getElementById('apologyPage').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Fungsi untuk kembali ke footer dari halaman permintaan maaf
        function backToFooter() {
            document.getElementById('apologyPage').style.display = 'none';
            document.getElementById('footer').style.display = 'block';
            document.getElementById('footer').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            createStarfield();
            
            // Tambahkan efek stagger untuk foto-foto
            const photos = document.querySelectorAll('.photo-display');
            photos.forEach((photo, index) => {
                // Random rotation untuk efek natural
                const randomRotate = (Math.random() - 0.5) * 3;
                photo.style.transform = `rotate(${randomRotate}deg)`;
            });
        });
        
        window.addEventListener('resize', function() {
            createStarfield();
        });
    </script>
</body>
</html>
